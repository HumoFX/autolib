(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e19e8f7"],{"2db4":function(t,e,n){"use strict";n("caad"),n("a9e3");var s=n("ade3"),i=(n("ca71"),n("8dd9")),a=n("a9ad"),o=n("7560"),c=n("f2e7"),r=n("fe6c"),l=n("58df"),u=n("80d2"),d=n("d9bd");e["a"]=Object(l["a"])(i["a"],a["a"],c["a"],Object(r["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:function(t){return"string"===typeof t||!1===t}},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground:function(){return!this.text&&!this.outlined},isDark:function(){return this.hasBackground?!this.light:o["a"].options.computed.isDark.call(this)},styles:function(){if(this.absolute)return{};var t=this.$vuetify.application,e=t.bar,n=t.bottom,s=t.footer,i=t.insetFooter,a=t.left,o=t.right,c=t.top;return{paddingBottom:Object(u["e"])(n+s+i),paddingLeft:this.app?Object(u["e"])(a):void 0,paddingRight:this.app?Object(u["e"])(o):void 0,paddingTop:Object(u["e"])(e+c)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted:function(){this.isActive&&this.setTimeout()},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(d["e"])("auto-height",this),0==this.timeout&&Object(d["d"])('timeout="0"',"-1",this)},methods:{genActions:function(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(u["p"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent:function(){return this.$createElement("div",{staticClass:"v-snack__content",class:Object(s["a"])({},this.contentClass,!0),attrs:{role:"status","aria-live":"polite"}},[Object(u["p"])(this)])},genWrapper:function(){var t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:i["a"].options.computed.classes.call(this),directives:[{name:"show",value:this.isActive}]});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout:function(){var t=this;window.clearTimeout(this.activeTimeout);var e=Number(this.timeout);this.isActive&&![0,-1].includes(e)&&(this.activeTimeout=window.setTimeout((function(){t.isActive=!1}),e))}},render:function(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},7679:function(t,e,n){"use strict";n("c79c");var s=n("e4d3"),i=n("7560"),a=n("80d2"),o=n("afdd"),c=n("326d"),r=n("58df");e["a"]=Object(r["a"])(s["a"],i["a"]).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(t){t?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var t=this.$refs.content.querySelector("input");t&&t.focus()},genButton:function(t,e){return this.$createElement(o["a"],{props:{text:!0,color:"primary",light:!0},on:{click:t}},e)},genActions:function(){var t=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){t.save(t.returnValue),t.$emit("save")}),this.saveText)])},genContent:function(){var t=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(e){e.keyCode===a["u"].esc&&t.cancel(),e.keyCode===a["u"].enter&&(t.save(t.returnValue),t.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(t){var e=this;return t(c["a"],{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(t){return e.isActive=t}},scopedSlots:{activator:function(n){var s=n.on;return t("div",{staticClass:"v-small-dialog__activator",on:s},[t("span",{staticClass:"v-small-dialog__activator__content"},e.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}})},b0d4:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",[n("v-card",[n("v-card-title",[n("p",{staticClass:"mb-0 mt-3 mr-15"},[t._v("Книги в эксплуатации")]),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Поиск","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("v-data-table",{attrs:{headers:t.headers,search:t.search,"sort-by":["id"],"sort-desc":[!0,!1],items:t.filledBooksInUse,"no-results-text":"Нет результатов","no-data-text":"Нет данных",locale:"ru-RU"},scopedSlots:t._u([{key:"item.actions",fn:function(e){return[n("v-edit-dialog",{attrs:{"return-value":e.item.actions,large:"",persistent:""},on:{"update:returnValue":function(n){return t.$set(e.item,"actions",n)},"update:return-value":function(n){return t.$set(e.item,"actions",n)},save:function(n){return t.save(e.item.id,e.item.actions)},cancel:t.cancel,open:t.open},scopedSlots:t._u([{key:"input",fn:function(){return[n("v-select",{attrs:{items:t.itemActions,label:e.item.actions,solo:""},model:{value:e.item.actions,callback:function(n){t.$set(e.item,"actions",n)},expression:"props.item.actions"}})]},proxy:!0}],null,!0)},[n("div",[t._v(t._s(e.item.actions))]),e.item.actions?t._e():n("div",[t._v("Нет")])])]}}])}),n("v-snackbar",{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[n("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",s,!1),[t._v("Закрыть")])]}}]),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v(" "+t._s(t.snackText)+" ")])],1)],1)],1)],1)},i=[],a=(n("4de4"),n("d81d"),n("5530")),o=n("2f62"),c=n("c1df"),r=n.n(c),l=n("323e"),u=n.n(l);r.a.locale("ru");var d={name:"BooksInUse",created:function(){u.a.start(),this.$store.dispatch("book/fetchBooksInUse")},computed:Object(a["a"])(Object(a["a"])({},Object(o["b"])(["book"])),{},{filledBooksInUse:function(){return this.book.booksInUse.map((function(t){var e=r()().to(t.time_of_take_away);return u.a.done(),Object(a["a"])(Object(a["a"])({},t),{},{time:e})}))}}),methods:{save:function(t){this.snack=!0,this.snackColor="success",this.snackText="Данные сохранены";var e=this.book.booksInUse.filter((function(e){return t===e.id}));e[0].done=!0,e[0].time_of_pass=r()().format(),e[0].active=!1,this.$store.dispatch("book/updateBookInUse",{id:t,book:e[0]})},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Отменено"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Изменение"}},data:function(){return{timeout:null,search:"",itemActions:["Да"],snack:!1,snackColor:"",snackText:"",headers:[{text:"№",align:"start",value:"id"},{sortable:!1,text:"Имя пользователя",value:"user.full_name"},{sortable:!1,text:"Название книги",value:"book.title"},{sortable:!1,text:"Автор книги",value:"book.author"},{sortable:!1,text:"Время",value:"time"},{sortable:!1,text:"ISBN",value:"book.isbn"},{text:"Действия",value:"actions",sortable:!1}]}}},h=d,v=n("2877"),f=n("6544"),m=n.n(f),p=n("8336"),k=n("b0af"),b=n("99d9"),g=n("62ad"),_=n("a523"),x=n("8fea"),C=n("7679"),T=n("0fd9"),B=n("b974"),$=n("2db4"),y=n("8654"),O=Object(v["a"])(h,s,i,!1,null,"9432872a",null);e["default"]=O.exports;m()(O,{VBtn:p["a"],VCard:k["a"],VCardTitle:b["c"],VCol:g["a"],VContainer:_["a"],VDataTable:x["a"],VEditDialog:C["a"],VRow:T["a"],VSelect:B["a"],VSnackbar:$["a"],VTextField:y["a"]})},c79c:function(t,e,n){},ca71:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6e19e8f7.21592c8e.js.map