(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2426a722"],{"2db4":function(t,e,i){"use strict";i("caad"),i("a9e3");var n=i("ade3"),s=(i("ca71"),i("8dd9")),a=i("a9ad"),o=i("7560"),c=i("f2e7"),r=i("fe6c"),l=i("58df"),u=i("80d2"),d=i("d9bd");e["a"]=Object(l["a"])(s["a"],a["a"],c["a"],Object(r["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:function(t){return"string"===typeof t||!1===t}},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground:function(){return!this.text&&!this.outlined},isDark:function(){return this.hasBackground?!this.light:o["a"].options.computed.isDark.call(this)},styles:function(){if(this.absolute)return{};var t=this.$vuetify.application,e=t.bar,i=t.bottom,n=t.footer,s=t.insetFooter,a=t.left,o=t.right,c=t.top;return{paddingBottom:Object(u["e"])(i+n+s),paddingLeft:this.app?Object(u["e"])(a):void 0,paddingRight:this.app?Object(u["e"])(o):void 0,paddingTop:Object(u["e"])(e+c)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted:function(){this.isActive&&this.setTimeout()},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(d["e"])("auto-height",this),0==this.timeout&&Object(d["d"])('timeout="0"',"-1",this)},methods:{genActions:function(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(u["p"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent:function(){return this.$createElement("div",{staticClass:"v-snack__content",class:Object(n["a"])({},this.contentClass,!0),attrs:{role:"status","aria-live":"polite"}},[Object(u["p"])(this)])},genWrapper:function(){var t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:s["a"].options.computed.classes.call(this),directives:[{name:"show",value:this.isActive}]});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout:function(){var t=this;window.clearTimeout(this.activeTimeout);var e=Number(this.timeout);this.isActive&&![0,-1].includes(e)&&(this.activeTimeout=window.setTimeout((function(){t.isActive=!1}),e))}},render:function(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"5e81":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:""}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-card",[i("v-card-title",[i("p",{staticClass:"mb-0 mt-3 mr-15"},[t._v("Активные заказы")]),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Поиск","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),i("v-data-table",{attrs:{headers:t.headers,items:t.filledActiveOrders,"sort-by":["id"],"sort-desc":[!0,!1],search:t.search,"no-results-text":"Нет результатов","no-data-text":"Нет данных",locale:"ru-RU"},scopedSlots:t._u([{key:"item.actions",fn:function(e){return[i("v-edit-dialog",{attrs:{"return-value":e.item.actions,large:"",persistent:""},on:{"update:returnValue":function(i){return t.$set(e.item,"actions",i)},"update:return-value":function(i){return t.$set(e.item,"actions",i)},save:function(i){return t.save(e.item.id,e.item.actions)},cancel:t.cancel,open:t.open},scopedSlots:t._u([{key:"input",fn:function(){return[i("v-select",{attrs:{items:t.itemActions,label:e.item.actions,solo:""},model:{value:e.item.actions,callback:function(i){t.$set(e.item,"actions",i)},expression:"props.item.actions"}})]},proxy:!0}],null,!0)},[i("div",[t._v(t._s(e.item.actions))]),e.item.actions?t._e():i("div",[t._v("Нет")])])]}}])}),i("v-snackbar",{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[i("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",n,!1),[t._v("Закрыть")])]}}]),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v(" "+t._s(t.snackText)+" ")])],1)],1)],1)],1)},s=[],a=(i("4de4"),i("d81d"),i("5530")),o=i("2f62"),c=i("c1df"),r=i.n(c),l=i("323e"),u=i.n(l);r.a.locale("ru");var d={name:"ActiveOrders",created:function(){u.a.start(),this.$store.dispatch("order/fetchActiveOrders")},computed:Object(a["a"])(Object(a["a"])({},Object(o["b"])(["order"])),{},{filledActiveOrders:function(){return u.a.done(),this.order.activeOrders.map((function(t){var e=r()().to(t.time_of_get);return Object(a["a"])(Object(a["a"])({},t),{},{remained_time:e})}))}}),methods:{save:function(t,e){this.snack=!0,this.snackColor="success",this.snackText="Данные сохранены";var i=this.order.activeOrders.filter((function(e){return t===e.id}));"Да"===e&&(i[0].done=!0,i[0].time_of_take_away=r()().format()),"Нет"===e&&(i[0].done=!1),i[0].active=!1,this.$store.dispatch("order/updateActiveOrder",{id:t,order:i[0]})},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Отменено"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Изменение"}},data:function(){return{orderAction:"",search:"",itemActions:["Да","Нет"],snack:!1,snackColor:"",snackText:"",headers:[{text:"№",align:"start",value:"id"},{sortable:!1,text:"Имя пользователя",value:"user.full_name"},{sortable:!1,text:"Название книги",value:"book.title"},{sortable:!1,text:"Автор книги",value:"book.author"},{sortable:!1,text:"ISBN",value:"book.isbn"},{sortable:!1,text:"Оставщиейся время",value:"remained_time"},{text:"Действия",value:"actions",sortable:!1}]}}},h=d,v=i("2877"),f=i("6544"),m=i.n(f),p=i("8336"),k=i("b0af"),b=i("99d9"),g=i("62ad"),_=i("a523"),x=i("8fea"),C=i("7679"),O=i("0fd9"),T=i("b974"),A=i("2db4"),$=i("8654"),y=Object(v["a"])(h,n,s,!1,null,null,null);e["default"]=y.exports;m()(y,{VBtn:p["a"],VCard:k["a"],VCardTitle:b["c"],VCol:g["a"],VContainer:_["a"],VDataTable:x["a"],VEditDialog:C["a"],VRow:O["a"],VSelect:T["a"],VSnackbar:A["a"],VTextField:$["a"]})},7679:function(t,e,i){"use strict";i("c79c");var n=i("e4d3"),s=i("7560"),a=i("80d2"),o=i("afdd"),c=i("326d"),r=i("58df");e["a"]=Object(r["a"])(n["a"],s["a"]).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(t){t?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var t=this.$refs.content.querySelector("input");t&&t.focus()},genButton:function(t,e){return this.$createElement(o["a"],{props:{text:!0,color:"primary",light:!0},on:{click:t}},e)},genActions:function(){var t=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){t.save(t.returnValue),t.$emit("save")}),this.saveText)])},genContent:function(){var t=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(e){e.keyCode===a["u"].esc&&t.cancel(),e.keyCode===a["u"].enter&&(t.save(t.returnValue),t.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(t){var e=this;return t(c["a"],{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(t){return e.isActive=t}},scopedSlots:{activator:function(i){var n=i.on;return t("div",{staticClass:"v-small-dialog__activator",on:n},[t("span",{staticClass:"v-small-dialog__activator__content"},e.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}})},c79c:function(t,e,i){},ca71:function(t,e,i){}}]);
//# sourceMappingURL=chunk-2426a722.43e2fc63.js.map