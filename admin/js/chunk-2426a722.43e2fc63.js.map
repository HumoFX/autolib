{"version":3,"sources":["webpack:///../../../src/components/VSnackbar/VSnackbar.ts","webpack:///./src/views/ActiveOrders.vue?a01c","webpack:///src/views/ActiveOrders.vue","webpack:///./src/views/ActiveOrders.vue?948e","webpack:///./src/views/ActiveOrders.vue","webpack:///../../../src/components/VDataTable/VEditDialog.ts"],"names":["name","props","app","centered","contentClass","type","default","multiLine","text","timeout","Number","transition","Boolean","validator","v","vertical","data","activeTimeout","computed","classes","this","bottom","hasBackground","isDark","styles","$vuetify","top","paddingBottom","paddingLeft","paddingRight","paddingTop","bar","watch","isActive","mounted","setTimeout","created","$attrs","hasOwnProperty","methods","genActions","$createElement","staticClass","attrs","class","genContent","role","genWrapper","setColor","directives","value","genTransition","window","render","h","style","_vm","_h","_c","_self","_v","model","callback","$$v","search","expression","headers","filledActiveOrders","scopedSlots","_u","key","fn","item","actions","on","$event","$set","save","id","cancel","open","itemActions","proxy","_s","_e","snackColor","ref","_b","snack","snackText","staticRenderFns","$store","dispatch","order","activeOrders","map","action","filteredActiveOrder","done","time_of_take_away","active","orderAction","component","VBtn","VCard","VCardTitle","VCol","VContainer","VDataTable","VEditDialog","VRow","VSelect","VSnackbar","VTextField","cancelText","large","eager","persistent","saveText","focus","input","$refs","content","genButton","color","light","click","keydown","e","$slots","origin","right","closeOnClick","closeOnContentClick","dark","val","activator"],"mappings":"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","file":"js/chunk-2426a722.43e2fc63.js","sourcesContent":["// Styles\nimport './VSnackbar.sass'\n\n// Components\nimport VSheet from '../VSheet/VSheet'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\nimport Toggleable from '../../mixins/toggleable'\nimport { factory as PositionableFactory } from '../../mixins/positionable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport { deprecate, removed } from '../../util/console'\n\n// Types\nimport { PropType, VNode } from 'vue'\n\nexport default mixins(\n  VSheet,\n  Colorable,\n  Toggleable,\n  PositionableFactory([\n    'absolute',\n    'bottom',\n    'left',\n    'right',\n    'top',\n  ])\n/* @vue/component */\n).extend({\n  name: 'v-snackbar',\n\n  props: {\n    app: Boolean,\n    centered: Boolean,\n    contentClass: {\n      type: String,\n      default: '',\n    },\n    multiLine: Boolean,\n    text: Boolean,\n    timeout: {\n      type: [Number, String],\n      default: 5000,\n    },\n    transition: {\n      type: [Boolean, String] as PropType<false | string>,\n      default: 'v-snack-transition',\n      validator: v => typeof v === 'string' || v === false,\n    },\n    vertical: Boolean,\n  },\n\n  data: () => ({\n    activeTimeout: -1,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-snack--absolute': this.absolute,\n        'v-snack--active': this.isActive,\n        'v-snack--bottom': this.bottom || !this.top,\n        'v-snack--centered': this.centered,\n        'v-snack--has-background': this.hasBackground,\n        'v-snack--left': this.left,\n        'v-snack--multi-line': this.multiLine && !this.vertical,\n        'v-snack--right': this.right,\n        'v-snack--text': this.text,\n        'v-snack--top': this.top,\n        'v-snack--vertical': this.vertical,\n      }\n    },\n    // Text and outlined styles both\n    // use transparent backgrounds\n    hasBackground (): boolean {\n      return (\n        !this.text &&\n        !this.outlined\n      )\n    },\n    // Snackbar is dark by default\n    // override themeable logic.\n    isDark (): boolean {\n      return this.hasBackground\n        ? !this.light\n        : Themeable.options.computed.isDark.call(this)\n    },\n    styles (): object {\n      // Styles are not needed when\n      // using the absolute prop.\n      if (this.absolute) return {}\n\n      const {\n        bar,\n        bottom,\n        footer,\n        insetFooter,\n        left,\n        right,\n        top,\n      } = this.$vuetify.application\n\n      // Should always move for y-axis\n      // applicationable components.\n      return {\n        paddingBottom: convertToUnit(bottom + footer + insetFooter),\n        paddingLeft: !this.app ? undefined : convertToUnit(left),\n        paddingRight: !this.app ? undefined : convertToUnit(right),\n        paddingTop: convertToUnit(bar + top),\n      }\n    },\n  },\n\n  watch: {\n    isActive: 'setTimeout',\n    timeout: 'setTimeout',\n  },\n\n  mounted () {\n    if (this.isActive) this.setTimeout()\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('auto-height')) {\n      removed('auto-height', this)\n    }\n\n    /* istanbul ignore next */\n    // eslint-disable-next-line eqeqeq\n    if (this.timeout == 0) {\n      deprecate('timeout=\"0\"', '-1', this)\n    }\n  },\n\n  methods: {\n    genActions () {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__action ',\n      }, [\n        getSlot(this, 'action', {\n          attrs: { class: 'v-snack__btn' },\n        }),\n      ])\n    },\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__content',\n        class: {\n          [this.contentClass]: true,\n        },\n        attrs: {\n          role: 'status',\n          'aria-live': 'polite',\n        },\n      }, [getSlot(this)])\n    },\n    genWrapper () {\n      const setColor = this.hasBackground\n        ? this.setBackgroundColor\n        : this.setTextColor\n\n      const data = setColor(this.color, {\n        staticClass: 'v-snack__wrapper',\n        class: VSheet.options.computed.classes.call(this),\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n      })\n\n      return this.$createElement('div', data, [\n        this.genContent(),\n        this.genActions(),\n      ])\n    },\n    genTransition () {\n      return this.$createElement('transition', {\n        props: { name: this.transition },\n      }, [this.genWrapper()])\n    },\n    setTimeout () {\n      window.clearTimeout(this.activeTimeout)\n\n      const timeout = Number(this.timeout)\n\n      if (\n        !this.isActive ||\n        // TODO: remove 0 in v3\n        [0, -1].includes(timeout)\n      ) {\n        return\n      }\n\n      this.activeTimeout = window.setTimeout(() => {\n        this.isActive = false\n      }, timeout)\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-snack',\n      class: this.classes,\n      style: this.styles,\n    }, [\n      this.transition !== false\n        ? this.genTransition()\n        : this.genWrapper(),\n    ])\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',[_c('p',{staticClass:\"mb-0 mt-3 mr-15\"},[_vm._v(\"Активные заказы\")]),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Поиск\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.filledActiveOrders,\"sort-by\":['id'],\"sort-desc\":[true, false],\"search\":_vm.search,\"no-results-text\":\"Нет результатов\",\"no-data-text\":\"Нет данных\",\"locale\":\"ru-RU\"},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(props){return [_c('v-edit-dialog',{attrs:{\"return-value\":props.item.actions,\"large\":\"\",\"persistent\":\"\"},on:{\"update:returnValue\":function($event){return _vm.$set(props.item, \"actions\", $event)},\"update:return-value\":function($event){return _vm.$set(props.item, \"actions\", $event)},\"save\":function($event){return _vm.save(props.item.id, props.item.actions)},\"cancel\":_vm.cancel,\"open\":_vm.open},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('v-select',{attrs:{\"items\":_vm.itemActions,\"label\":props.item.actions,\"solo\":\"\"},model:{value:(props.item.actions),callback:function ($$v) {_vm.$set(props.item, \"actions\", $$v)},expression:\"props.item.actions\"}})]},proxy:true}],null,true)},[_c('div',[_vm._v(_vm._s(props.item.actions))]),(!props.item.actions)?_c('div',[_vm._v(\"Нет\")]):_vm._e()])]}}])}),_c('v-snackbar',{attrs:{\"timeout\":3000,\"color\":_vm.snackColor},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snack = false}}},'v-btn',attrs,false),[_vm._v(\"Закрыть\")])]}}]),model:{value:(_vm.snack),callback:function ($$v) {_vm.snack=$$v},expression:\"snack\"}},[_vm._v(\" \"+_vm._s(_vm.snackText)+\" \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid>\n    <v-row>\n      <v-col cols=\"12\">\n        <v-card>\n          <v-card-title>\n            <p class=\"mb-0 mt-3 mr-15\">Активные заказы</p>\n            <v-text-field\n              v-model=\"search\"\n              append-icon=\"mdi-magnify\"\n              label=\"Поиск\"\n              single-line\n              hide-details\n            ></v-text-field>\n          </v-card-title>\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"filledActiveOrders\"\n            :sort-by=\"['id']\"\n            :sort-desc=\"[true, false]\"\n            :search=\"search\"\n            no-results-text=\"Нет результатов\"\n            no-data-text=\"Нет данных\"\n            locale=\"ru-RU\"\n          >\n            <template v-slot:item.actions=\"props\">\n              <v-edit-dialog\n                :return-value.sync=\"props.item.actions\"\n                large\n                persistent\n                @save=\"save(props.item.id, props.item.actions)\"\n                @cancel=\"cancel\"\n                @open=\"open\"\n              >\n                <div>{{ props.item.actions }}</div>\n                <div v-if=\"!props.item.actions\">Нет</div>\n                <template v-slot:input>\n                  <v-select\n                    v-model=\"props.item.actions\"\n                    :items=\"itemActions\"\n                    :label=\"props.item.actions\"\n                    solo\n                  ></v-select>\n                </template>\n              </v-edit-dialog>\n            </template>\n          </v-data-table>\n          <v-snackbar v-model=\"snack\" :timeout=\"3000\" :color=\"snackColor\">\n            {{ snackText }}\n            <template v-slot:action=\"{ attrs }\">\n              <v-btn v-bind=\"attrs\" text @click=\"snack = false\">Закрыть</v-btn>\n            </template>\n          </v-snackbar>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport moment from 'moment'\nmoment.locale('ru')\nimport NProgress from 'nprogress'\nexport default {\n  name: 'ActiveOrders',\n  created() {\n    NProgress.start()\n    this.$store.dispatch('order/fetchActiveOrders')\n  },\n  // mounted() {\n  //   this.timeout = setInterval(\n  //     () => store.dispatch('order/fetchActiveOrders'),\n  //     15000\n  //   )\n  // },\n  // beforeRouteEnter(to, from, next) {\n  //   NProgress.start()\n  //   store.dispatch('order/fetchActiveOrders').then(() => {\n  //     NProgress.done()\n  //     next()\n  //   })\n  // },\n  // beforeRouteUpdate(to, from, next) {\n  //   NProgress.start()\n  //   store.dispatch('order/fetchActiveOrders').then(() => {\n  //     NProgress.done()\n  //     next()\n  //   })\n  // },\n  // beforeDestroy() {\n  //   this.timeout = null\n  //   clearInterval(this.timeout)\n  // },\n  computed: {\n    ...mapState(['order']),\n    filledActiveOrders() {\n      NProgress.done()\n      return this.order.activeOrders.map(activeOrder => {\n        const remained_time = moment().to(activeOrder.time_of_get)\n        return { ...activeOrder, remained_time }\n      })\n    }\n  },\n  methods: {\n    save(id, action) {\n      this.snack = true\n      this.snackColor = 'success'\n      this.snackText = 'Данные сохранены'\n      const filteredActiveOrder = this.order.activeOrders.filter(order => {\n        return id === order.id\n      })\n      if (action === 'Да') {\n        filteredActiveOrder[0].done = true\n        filteredActiveOrder[0].time_of_take_away = moment().format()\n      }\n      if (action === 'Нет') filteredActiveOrder[0].done = false\n      filteredActiveOrder[0].active = false\n      this.$store.dispatch('order/updateActiveOrder', {\n        id: id,\n        order: filteredActiveOrder[0]\n      })\n    },\n    cancel() {\n      this.snack = true\n      this.snackColor = 'error'\n      this.snackText = 'Отменено'\n    },\n    open() {\n      this.snack = true\n      this.snackColor = 'info'\n      this.snackText = 'Изменение'\n    }\n  },\n  data() {\n    return {\n      orderAction: '',\n      search: '',\n      itemActions: ['Да', 'Нет'],\n      snack: false,\n      snackColor: '',\n      snackText: '',\n      headers: [\n        {\n          text: '№',\n          align: 'start',\n          value: 'id'\n        },\n        {\n          sortable: false,\n          text: 'Имя пользователя',\n          value: 'user.full_name'\n        },\n        {\n          sortable: false,\n          text: 'Название книги',\n          value: 'book.title'\n        },\n        {\n          sortable: false,\n          text: 'Автор книги',\n          value: 'book.author'\n        },\n        {\n          sortable: false,\n          text: 'ISBN',\n          value: 'book.isbn'\n        },\n        {\n          sortable: false,\n          text: 'Оставщиейся время',\n          value: 'remained_time'\n        },\n        {\n          text: 'Действия',\n          value: 'actions',\n          sortable: false\n        }\n      ]\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActiveOrders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActiveOrders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActiveOrders.vue?vue&type=template&id=53d790e6&\"\nimport script from \"./ActiveOrders.vue?vue&type=script&lang=js&\"\nexport * from \"./ActiveOrders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VEditDialog } from 'vuetify/lib/components/VDataTable';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VCol,VContainer,VDataTable,VEditDialog,VRow,VSelect,VSnackbar,VTextField})\n","// Styles\nimport './VEditDialog.sass'\n\n// Mixins\nimport Returnable from '../../mixins/returnable'\nimport Themeable from '../../mixins/themeable'\n\n// Utils\nimport { keyCodes } from '../../util/helpers'\n\n// Component\nimport VBtn from '../VBtn'\nimport VMenu from '../VMenu'\n\n// Types\nimport { VNode, VNodeChildren } from 'vue'\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(Returnable, Themeable).extend({\n  name: 'v-edit-dialog',\n\n  props: {\n    cancelText: {\n      default: 'Cancel',\n    },\n    large: Boolean,\n    eager: Boolean,\n    persistent: Boolean,\n    saveText: {\n      default: 'Save',\n    },\n    transition: {\n      type: String,\n      default: 'slide-x-reverse-transition',\n    },\n  },\n\n  data () {\n    return {\n      isActive: false,\n    }\n  },\n\n  watch: {\n    isActive (val) {\n      if (val) {\n        this.$emit('open')\n        setTimeout(this.focus, 50) // Give DOM time to paint\n      } else {\n        this.$emit('close')\n      }\n    },\n  },\n\n  methods: {\n    cancel () {\n      this.isActive = false\n      this.$emit('cancel')\n    },\n    focus () {\n      const input = (this.$refs.content as Element).querySelector('input')\n      input && input.focus()\n    },\n    genButton (fn: Function, text: VNodeChildren): VNode {\n      return this.$createElement(VBtn, {\n        props: {\n          text: true,\n          color: 'primary',\n          light: true,\n        },\n        on: { click: fn },\n      }, text)\n    },\n    genActions (): VNode {\n      return this.$createElement('div', {\n        class: 'v-small-dialog__actions',\n      }, [\n        this.genButton(this.cancel, this.cancelText),\n        this.genButton(() => {\n          this.save(this.returnValue)\n          this.$emit('save')\n        }, this.saveText),\n      ])\n    },\n    genContent (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-small-dialog__content',\n        on: {\n          keydown: (e: KeyboardEvent) => {\n            e.keyCode === keyCodes.esc && this.cancel()\n            if (e.keyCode === keyCodes.enter) {\n              this.save(this.returnValue)\n              this.$emit('save')\n            }\n          },\n        },\n        ref: 'content',\n      }, [this.$slots.input])\n    },\n  },\n\n  render (h): VNode {\n    return h(VMenu, {\n      staticClass: 'v-small-dialog',\n      class: this.themeClasses,\n      props: {\n        contentClass: 'v-small-dialog__menu-content',\n        transition: this.transition,\n        origin: 'top right',\n        right: true,\n        value: this.isActive,\n        closeOnClick: !this.persistent,\n        closeOnContentClick: false,\n        eager: this.eager,\n        light: this.light,\n        dark: this.dark,\n      },\n      on: {\n        input: (val: boolean) => (this.isActive = val),\n      },\n      scopedSlots: {\n        activator: ({ on }) => {\n          return h('div', {\n            staticClass: 'v-small-dialog__activator',\n            on,\n          }, [\n            h('span', {\n              staticClass: 'v-small-dialog__activator__content',\n            }, this.$slots.default),\n          ])\n        },\n      },\n    }, [\n      this.genContent(),\n      this.large ? this.genActions() : null,\n    ])\n  },\n})\n"],"sourceRoot":""}